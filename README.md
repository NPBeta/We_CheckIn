#We 重邮 自动打卡脚本
------
基于 Python 3 的 We 重邮自动打卡脚本
------

<big>**免责声明**</big>
* 请先仔细阅读 “We 重邮” 的 “每日打卡” 功能使用说明，根据说明正确填写脚本需要的信息
* 脚本默认**无 返渝、接触确诊 / 疑似病例、本人疑似 / 确诊** 等情况，如与事实不符，请修改代码中的 key 字典
* 本脚本仅做正常情况下免去手动打卡之用，**请勿瞒报、误报、漏报**
* 若有异常情况（返渝、接触确诊 / 疑似病例、本人疑似 / 确诊 以及其他任何在 “每日打卡” 功能中需要**上报 / 有变化**的信息），请**立即停止使用脚本**，并在小程序中**如实填报**
* 使用此脚本产生的任何问题由**使用者负责**，与作者无关

我是懒狗，代码想到哪写到哪，若可读性较差请见谅

<big>**已实现功能**</big>
* 根据 IP 自动获取经纬度和区县数据
* 根据打卡次数判断是否需要打卡 / 打卡是否成功
* 每天自动打卡
* 把不知道有什么用的 sign 字段随机化（这个字段甚至可以留空）

------
**使用方法**
* 安装 requests 模块
* 根据实际情况修改 key 字典中的字段（下方有每个字段的中文说明）
* 如需自定义经纬度、所在地区等信息，请在代码中修改相应变量
* 运行 run.py
* 输入需要提供的信息
* 脚本会提示是否打卡成功
* 1 天后复用第一次输入的信息再次提交

------
**字段说明**

| JSON 字段 | 中文含义 | 说明 |
| ----: | ----: | ----: |
| jbsks | jbs咳嗽 | 不明意义且小程序中无对应选项 |
| jbsfl | jbs乏力 | 不明意义且小程序中无对应选项 |
| jbsbs | jbs鼻塞 | 不明意义且小程序中无对应选项 |
| jbslt | jbs流涕 | 不明意义且小程序中无对应选项 |
| jbsyt | jbs咽痛 | 不明意义且小程序中无对应选项 |
| jbsfx | jbs腹泻 | 不明意义且小程序中无对应选项 |
| name | 名字 | - |
| xh | 学号 | 用于鉴别学生，请务必填写正确 |
| xb | 性别 | 默认留空且小程序中无对应选项 |
| latitude | 纬度 | - |
| longitude | 经度 | - |
| lxdh | 联系电话 | - |
| szdq | 所在地区 | 按“省,市,区”填写（不含引号） |
| xxdz | 详细地址 | 请根据小程序中填报说明填写 |
| hjsfly | 寒假**是否**离渝 | 请根据小程序中填报说明填写 |
| sfyfy | **是否**已返渝 | 请根据小程序中填报说明填写 |
| xjzdywqzbl | 现居住地**是否**有确诊病例 | 填“是”或“否”（不含引号） |
| twsfzc | 体温**是否**正常 | 填“是”或“否”（不含引号） |
| ywytdzz | **有无**咽痛等症状 | 填“有”或“无”（不含引号） |
| brsfqz | 本人**是否**确诊 | 若家人确诊也需填“是” |
| brsfys | 本人**是否**疑似 | 若家人疑似也需填“是” |
| ywjchblj | **有无**接触湖北旅居 | 有无接触存在湖北旅居史的人员 |
| fyjtgj | 返渝交通工具 | 填写班次、车牌 |
| fyddsj | 返渝到达时间 | 暂不清楚时间格式，请到小程序提交 |
| sfbgsq | **是否**报告社区 | 填“是”或“否”（不含引号） |
| sfjjgl | **是否**居家隔离 | 填“是”或“否”（不含引号） |
| jjglqssj | 居家隔离起始时间 | 暂不清楚时间格式，请到小程序提交 |
| wjjglmqqx | 未居家隔离目前去向 | - |
| qtycqk | 其他异常情况 | 小程序中无对应选项 | 
| beizhu | 备注 | 填写其他需要说明的情况 |
| ywjcqzbl | **有无**接触确诊病例 | 寒假期间是否接触过确诊或疑似病例 |

------
**TODO**
- [ ] 第一次输入姓名学号后自动保存到文件
- [ ] 用 try 重构所有请求，实现异常处理
- [ ] 失败自动重试
- [x] ~~每天自动执行脚本~~
- [x] ~~拉取打卡记录~~(不再需要，可通过官方打卡次数接口判断成功与否)
- [x] ~~以打卡记录判断是否打卡成功~~
- [x] ~~用 Requests 重写网络部分~~
- [x] ~~从 API 自动获取经纬度和区县数据~~
- [X] ~~随机化 sign 字段~~
